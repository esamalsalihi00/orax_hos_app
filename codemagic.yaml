workflows:
  ios-simulator-workflow:
    name: Build for iOS simulator
    max_build_duration: 60
    environment:
      flutter: stable
      xcode: latest
      variables:
        PRODUCT_BUNDLE_IDENTIFIER: "com.esa.oraxhos"
    scripts:
      - name: Clean project
        script: flutter clean
      - name: Get dependencies
        script: flutter pub get
      - name: Build for iOS simulator
        script: flutter build ios --simulator --no-codesign
    artifacts:
      - build/ios/iphonesimulator/*.app
